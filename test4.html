<!DOCTYPE html>
<html lang="ru">
  <head>
    <link rel="stylesheet" href="style.css">
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Продвинутый тест по JavaScript</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 20px;
      }
      .question {
        margin-bottom: 25px;
        padding: 15px;
        border: 1px solid #eee;
      }
      .results {
        margin-top: 20px;
        padding: 15px;
        background: #f8f9fa;
      }
      .correct {
        background: #e6ffe6;
        border-color: #28a745;
      }
      .incorrect {
        background: #ffe6e6;
        border-color: #dc3545;
      }
      button {
        padding: 12px 25px;
        background: #007bff;
        color: white;
        border: none;
        cursor: pointer;
      }
    </style>
  </head>
  <nav>
    <a href="index.html">HOME</a><a href="test1.html">test1</a
    ><a href="test2.html">test2</a><a href="test3.html">test3</a
    ><a href="test4.html">test4</a><a href="test5.html">test5</a>
  </nav>
  <body>
    <h1>Продвинутый тест по JavaScript</h1>

    <form id="quiz">
      <!-- Вопрос 1 -->
      <div class="question">
        <h3>1. Что возвращает метод Object.freeze()?</h3>
        <label
          ><input type="checkbox" name="q1" value="a" /> Тот же объект с
          запретом изменения существующих свойств</label
        ><br />
        <label
          ><input type="checkbox" name="q1" value="b" /> Новый объект с теми же
          свойствами</label
        ><br />
        <label
          ><input type="checkbox" name="q1" value="c" /> Тот же объект с
          разрешением удаления свойств</label
        ><br />
        <label
          ><input type="checkbox" name="q1" value="d" /> Тот же объект с
          запретом добавления новых свойств</label
        ><br />
      </div>

      <!-- Вопрос 2 -->
      <div class="question">
        <h3>2. Как работает оператор optional chaining (?.)?</h3>
        <label
          ><input type="checkbox" name="q2" value="a" /> Останавливает
          выполнение кода при ошибке</label
        ><br />
        <label
          ><input type="checkbox" name="q2" value="b" /> Возвращает undefined
          если свойство не существует</label
        ><br />
        <label
          ><input type="checkbox" name="q2" value="c" /> Проверяет наличие
          свойства без обращения к прототипу</label
        ><br />
        <label
          ><input type="checkbox" name="q2" value="d" /> Автоматически создаёт
          отсутствующие свойства</label
        ><br />
      </div>

      <!-- Вопрос 3 -->
      <div class="question">
        <h3>3. Чем отличается WeakMap от обычного Map?</h3>
        <label
          ><input type="checkbox" name="q3" value="a" /> Ключи могут быть только
          объектами</label
        ><br />
        <label
          ><input type="checkbox" name="q3" value="b" /> Не препятствует сборке
          мусора</label
        ><br />
        <label
          ><input type="checkbox" name="q3" value="c" /> Нет метода size</label
        ><br />
        <label
          ><input type="checkbox" name="q3" value="d" /> Все
          перечисленные</label
        ><br />
      </div>

      <!-- Вопрос 4 -->
      <div class="question">
        <h3>4. Что делает метод String.prototype.replaceAll()?</h3>
        <label
          ><input type="checkbox" name="q4" value="a" /> Заменяет первое
          найденное вхождение</label
        ><br />
        <label
          ><input type="checkbox" name="q4" value="b" /> Заменяет все вхождения
          через регулярное выражение</label
        ><br />
        <label
          ><input type="checkbox" name="q4" value="c" /> Заменяет все вхождения
          без использования RegExp</label
        ><br />
        <label
          ><input type="checkbox" name="q4" value="d" /> Работает только с
          примитивами</label
        ><br />
      </div>

      <!-- Вопрос 5 -->
      <div class="question">
        <h3>5. Что такое Symbol в JavaScript?</h3>
        <label
          ><input type="checkbox" name="q5" value="a" /> Примитивный тип для
          создания уникальных идентификаторов</label
        ><br />
        <label
          ><input type="checkbox" name="q5" value="b" /> Специальный тип
          функций</label
        ><br />
        <label
          ><input type="checkbox" name="q5" value="c" /> Способ создания
          приватных методов</label
        ><br />
        <label
          ><input type="checkbox" name="q5" value="d" /> Альтернатива строковым
          ключам объектов</label
        ><br />
      </div>

      <!-- Вопрос 6 -->
      <div class="question">
        <h3>6. Как работает оператор nullish coalescing (??)?</h3>
        <label
          ><input type="checkbox" name="q6" value="a" /> Возвращает первый
          определённый (non-null/undefined) операнд</label
        ><br />
        <label
          ><input type="checkbox" name="q6" value="b" /> Аналогичен логическому
          OR (||)</label
        ><br />
        <label
          ><input type="checkbox" name="q6" value="c" /> Работает только с
          null</label
        ><br />
        <label
          ><input type="checkbox" name="q6" value="d" /> Бросает ошибку при
          null</label
        ><br />
      </div>

      <!-- Вопрос 7 -->
      <div class="question">
        <h3>7. Что делает метод Array.prototype.flat()?</h3>
        <label
          ><input type="checkbox" name="q7" value="a" /> Удаляет все falsy
          значения</label
        ><br />
        <label
          ><input type="checkbox" name="q7" value="b" /> Рекурсивно сглаживает
          массив</label
        ><br />
        <label
          ><input type="checkbox" name="q7" value="c" /> Фильтрует элементы по
          условию</label
        ><br />
        <label
          ><input type="checkbox" name="q7" value="d" /> Создает новый массив с
          преобразованными элементами</label
        ><br />
      </div>

      <!-- Вопрос 8 -->
      <div class="question">
        <h3>8. Какой метод позволяет перехватывать операции над объектом?</h3>
        <label><input type="checkbox" name="q8" value="a" /> Proxy</label><br />
        <label><input type="checkbox" name="q8" value="b" /> Reflect</label
        ><br />
        <label><input type="checkbox" name="q8" value="c" /> Observer</label
        ><br />
        <label><input type="checkbox" name="q8" value="d" /> Generator</label
        ><br />
      </div>

      <!-- Вопрос 9 -->
      <div class="question">
        <h3>9. Что такое tagged template literals?</h3>
        <label
          ><input type="checkbox" name="q9" value="a" /> Функция для обработки
          шаблонных строк</label
        ><br />
        <label
          ><input type="checkbox" name="q9" value="b" /> Способ создания
          шаблонов компонентов</label
        ><br />
        <label
          ><input type="checkbox" name="q9" value="c" /> Синтаксис для
          HTML-шаблонов</label
        ><br />
        <label
          ><input type="checkbox" name="q9" value="d" /> Альтернатива регулярным
          выражениям</label
        ><br />
      </div>

      <!-- Вопрос 10 -->
      <div class="question">
        <h3>10. Как работает оператор `import()`?</h3>
        <label
          ><input type="checkbox" name="q10" value="a" /> Возвращает
          Promise</label
        ><br />
        <label
          ><input type="checkbox" name="q10" value="b" /> Синхронно загружает
          модуль</label
        ><br />
        <label
          ><input type="checkbox" name="q10" value="c" /> Работает только в
          браузере</label
        ><br />
        <label
          ><input type="checkbox" name="q10" value="d" /> Устаревший
          синтаксис</label
        ><br />
      </div>

      <button type="button" onclick="checkAnswers()">Проверить ответы</button>
    </form>

    <div class="results" id="results"></div>

    <script>
      const correctAnswers = {
        q1: ["a", "d"],
        q2: ["b", "c"],
        q3: ["d"],
        q4: ["c"],
        q5: ["a", "d"],
        q6: ["a"],
        q7: ["b"],
        q8: ["a"],
        q9: ["a"],
        q10: ["a"],
      };

      function checkAnswers() {
        let score = 0;
        const results = document.getElementById("results");
        results.innerHTML = "";

        for (const [question, answers] of Object.entries(correctAnswers)) {
          const selected = Array.from(
            document.querySelectorAll(`input[name="${question}"]:checked`)
          ).map((input) => input.value);

          const questionDiv = document
            .querySelector(`input[name="${question}"]`)
            .closest(".question");

          if (arraysEqual(selected.sort(), answers.sort())) {
            score++;
            questionDiv.classList.add("correct");
            questionDiv.classList.remove("incorrect");
          } else {
            questionDiv.classList.add("incorrect");
            questionDiv.classList.remove("correct");
          }
        }

        results.innerHTML = `Правильных ответов: ${score} из ${
          Object.keys(correctAnswers).length
        }`;
      }

      function arraysEqual(a, b) {
        return a.length === b.length && a.every((val, i) => val === b[i]);
      }
    </script>
  </body>
</html>
